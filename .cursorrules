# Правила работы с проектом

## Git Workflow

**ВАЖНО**: Все изменения в коде должны выполняться в отдельных ветках с последующим созданием Pull Request (PR).

### Процесс работы:
1. Перед началом изменений создай новую ветку от `main`
2. Выполни все изменения в этой ветке
3. После завершения изменений создай Pull Request для ревью
4. НЕ коммить изменения напрямую в `main` ветку

### При создании изменений:
- Всегда предлагай создать новую ветку перед началом работы
- Напоминай о необходимости создания PR после завершения изменений
- Если пользователь просит внести изменения, сначала проверь текущую ветку и предложи создать новую, если это необходимо

### Коммит-сообщения:
- **ОБЯЗАТЕЛЬНО**: Все коммит-сообщения должны быть на английском языке
- Используй формат Conventional Commits: `type: description`
- Типы коммитов: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`
- Примеры:
  - `feat: implement StorageProvider for CALLER Deno`
  - `fix: resolve merge conflict in CHANGELOG.md`
  - `docs: update README with installation instructions`
  - `refactor: extract utility functions to separate module`

### Запреты:
- **ЗАПРЕЩЕНО** использовать флаг `--no-verify` при коммитах
- **ЗАПРЕЩЕНО** использовать кириллицу или другие не-латинские символы в коммит-сообщениях
- Pre-commit hooks существуют для обеспечения качества кода и должны всегда выполняться
- Если hook блокирует коммит, необходимо исправить проблему (тесты, линтер, типы), а не обходить проверки
- Если hook работает некорректно, исправь сам hook, а не используй --no-verify

## Changelog

**ВАЖНО**: При внесении значимых изменений в код необходимо обновлять CHANGELOG.md.

### Правила обновления CHANGELOG:
1. Все изменения должны быть добавлены в секцию `[Unreleased]` перед коммитом
2. При создании нового релиза:
   - Переместить изменения из `[Unreleased]` в новую секцию с версией и текущей датой
   - Формат: `## [X.Y.Z] - YYYY-MM-DD` (например: `## [0.2.0] - 2025-01-15`)
   - Использовать Semantic Versioning (MAJOR.MINOR.PATCH)
3. Секции для изменений:
   - `### Добавлено` - новые функции и возможности
   - `### Изменено` - изменения в существующей функциональности
   - `### Исправлено` - исправления багов
   - `### Удалено` - удаленная функциональность
4. Описания должны быть понятными и конкретными
5. При завершении работы над фичей напоминай об обновлении CHANGELOG

## Progress Tracking

**ВАЖНО**: После создания Pull Request (PR) или после мерджа PR необходимо обновлять PROGRESS.md.

### Правила обновления PROGRESS.md:
1. После создания PR обнови раздел "Текущая задача" с информацией о текущем PR
2. После мерджа PR обнови раздел "Завершено" или "В процессе" в зависимости от статуса задачи
3. Обнови дату "Последнее обновление" на текущую дату
4. Обнови раздел "Следующие шаги" если задачи изменились
5. При завершении крупного этапа (например, завершение CALLER для Deno) обнови соответствующий раздел статуса
6. При завершении работы над фичей напоминай об обновлении PROGRESS.md

## Тестирование

**ВАЖНО**: После модификации кода в проекте всегда запускай и проверяй тесты.

### Правила тестирования:
1. После любых изменений в коде запускай тесты перед завершением работы
2. Для Deno проектов используй команду: `deno test tests/test_runner.ts --allow-env --allow-net --allow-read --allow-write`
3. Исправляй все упавшие тесты перед завершением работы
4. Если тесты требуют специальных разрешений или настроек, убедись что они указаны в команде запуска
5. При создании новых компонентов сразу создавай для них тесты

