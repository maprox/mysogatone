# Поиск порогового значения задержки между раундами TLS handshake

## Быстрый способ

1. Установите переменные окружения:
```powershell
$env:USE_DELAYED_HANDLER="true"
$env:SECOND_ROUND_METADATA_DELAY_MS="0"
$env:SECOND_ROUND_UPLOAD_DELAY_MS="0"
$env:ROUND_DELAY_MS="<значение>"
```

2. Запустите сервер:
```powershell
deno task start
```

3. В другом терминале выполните тест:
```powershell
curl.exe --proxy socks5://127.0.0.1:1080 https://mail.ru
```

4. Остановите сервер (Ctrl+C)

5. Повторите с другим значением `ROUND_DELAY_MS`

## Рекомендуемые значения для тестирования

- 0 мс (базовый тест)
- 1000 мс
- 2000 мс
- 3000 мс
- 4000 мс
- 5000 мс
- 6000 мс
- 7000 мс
- 8000 мс

## Интерпретация результатов

- ✅ **Работает** - задержка допустима, можно увеличить
- ❌ **Не работает** - задержка превышает порог, нужно уменьшить

## Пороговое значение

Пороговое значение находится между последним рабочим и первым нерабочим значением.

Например:
- 3000 мс - работает ✅
- 3500 мс - работает ✅
- 4000 мс - не работает ❌

Порог: ~3750 мс (±250 мс)

